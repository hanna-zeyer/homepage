<!DOCTYPE html>
<html lang="de">
<head>
  <title>PROJEKTE</title>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../css/styles.css"/>
  <link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
  <main>
    <a href="../../index.html" class="back-arrow" aria-label="Zur√ºck">
      &#129104
    </a>
    <div class="topnav">
      <a href="#home" class="active"></a>
      <div id="links">
        <a href="./vita.html">Vita</a>
        <a href="./projekte.html">Projekte</a>
        <a href="./kontakt.html">Kontakt</a>
      </div>
      <a href="javascript:void(0);" class="icon" onclick="navUtil()">
        <i class="fa fa-bars"></i>
      </a>
    </div>
    <div class="carousel-container">
      <button class="carousel-btn prev">&#10094;</button>
      <div class="carousel-track">
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/hautsam.html">
              <img src="../img/hautsam/01.jpg" alt="Slide 1">
            </a>
            <!--div class="overlay"></div-->
          </div>
          <div class="carousel-description">
            <h2>Hautsam</h2>
            <p>Hole of Fame, Dresden 2022</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/die_saeule_geht_an_der_last_vorbei.html">
              <img src="../img/die_saeule_geht_an_der_last_vorbei/02.jpg" alt="Slide 3">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Die S√§ule geht an der Last vorbei</h2>
            <p>Atelier Goldstein, Frankfurt am Main 2022</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/studio21.html">
              <img src="../img/studio21/02.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Studio 21</h2>
            <p>RambaZamba Theater, Berlin 2021</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/nils_karlsson.html">
              <img src="../img/nils_karlsson/01.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Nils Karlsson D√§umling</h2>
            <p>Junge Szene der S√§chsischen Staatsoper, Dresden 2021</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/panta_rhei.html">
              <img src="../img/panta_rhei/02.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Panta Rhei</h2>
            <p>Palucca Hochschule f√ºr Tanz im Labortheater HfBK Dresden, Dresden 2020</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/nacht_der_oneironauten.html">
              <img src="../img/nacht_der_oneironauten/02.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>nacht der oneironauten</h2>
            <p>Rosenwerk, Dresden 2023</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/wunschbehoerde.html">
              <img src="../img/wunschbehoerde/01.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Wunschbeh√∂rde</h2>
            <p>Staatsschauspiel Dresden, Dresden 2023</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/alle_gegen_alle.html">
              <img src="../img/alle_gegen_alle/01.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>#Alle gegen Alle</h2>
            <p>Staatsschauspiel Dresden, Dresden 2024</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/wenn_ich_jetzt_stehen_bleibe.html">
              <img src="../img/wenn_ich_jetzt_stehen_bleibe/06.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Wenn ich jetzt stehen bleibe...</h2>
            <p>Zentralwerk, Dresden 2025</p>
          </div>
        </div>
        <div class="carousel-slide">
          <div class="image-container">
            <a href="./projects/moving_stories.html">
              <img src="../img/moving_stories/02.jpg" alt="Slide 2">
            </a>
          </div>
          <div class="carousel-description">
            <h2>Moving Stories</h2>
            <p>Junge Szene der S√§chsischen Staatsoper im Labortheater HfBK Dresden, Dresden 2018</p>
          </div>
        </div>
      </div>
      <button class="carousel-btn next">&#10095;</button>
    </div>
  </main>
  <footer class="site-footer">
    <p>&copy; 2025 Hanna Zeyer</p>
  </footer>
  <script src="../js/main.js" type="text/javascript"></script>
  <script>
    const track = document.querySelector('.carousel-track');
    const slides = document.querySelectorAll('.carousel-slide');
    const prevButton = document.querySelector('.carousel-btn.prev');
    const nextButton = document.querySelector('.carousel-btn.next');

    const totalSlides = slides.length;
    let currentIndex = Math.floor(Math.random() * totalSlides);
    while (currentIndex == 0 || currentIndex == (slides.length - 1)) {
      currentIndex = Math.floor(Math.random() * totalSlides);
    }
    //if (totalSlides % 2 == 0) {
    //  currentIndex = totalSlides / 2;
    //} else {
    //  currentIndex = (totalSlides - 1) / 2;
    //}
    //currentIndex--;
    const visibleSlides = 1; 

    function getSlideWidth() {
      //return track.getBoundingClientRect().width * 0.4;
      return slides[0].getBoundingClientRect().width;
    }

    function updateSlidePosition() {
      const slideWidth = getSlideWidth();
      track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
    }

    function moveToNext() {
      if (currentIndex < totalSlides - visibleSlides) {
        currentIndex++;
      } else {
        currentIndex = Math.floor(Math.random() * totalSlides);
      }
      updateSlidePosition();
    }

    function moveToPrev() {
      if (currentIndex > 0) {
        currentIndex--;
      } else {
        currentIndex = totalSlides - visibleSlides;
      }
      updateSlidePosition();
    }

    nextButton.addEventListener('click', moveToNext);
    prevButton.addEventListener('click', moveToPrev);

    let autoScroll = setInterval(moveToNext, 3000);

    document.querySelector('.carousel-container').addEventListener('mouseenter', () => clearInterval(autoScroll));
    document.querySelector('.carousel-container').addEventListener('mouseleave', () => autoScroll = setInterval(moveToNext, 3000));

    window.addEventListener('resize', updateSlidePosition);
    updateSlidePosition();
  </script>
  <script>
    const imageContainer = document.querySelector('.image-container');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');

    function updateBtnPosition() {
      const height = imageContainer.offsetHeight;
      const center = height / 2;
      prevBtn.style.top = `${center}px`;
      nextBtn.style.top = `${center}px`;
    }

    window.addEventListener('resize', updateBtnPosition);
    //window.addEventListener('load', updateBtnPosition);
    window.addEventListener('load', () => {
      shuffleSlides(); // or shuffleSlidesPersistently();
      updateSlidePosition();
      updateBtnPosition();
    });
  </script>
  <!-- shuffle everytime -->
  <script>
    // ...your existing carousel code...

    // üé≤ Shuffle carousel slides
    function shuffleSlides() {
      const track = document.querySelector('.carousel-track');
      const slides = Array.from(track.children);

      // Fisher-Yates shuffle
      for (let i = slides.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [slides[i], slides[j]] = [slides[j], slides[i]];
      }

      // Remove all slides from track and append them in new order
      slides.forEach(slide => track.appendChild(slide));
    }

    // Run it before positioning logic
    shuffleSlides();
    updateSlidePosition();
  </script>
  <!-- random order to stays the same within a session -->
  <!--script>
    const track = document.querySelector('.carousel-track');

    function getSlideKeys() {
      return Array.from(track.children).map(slide => slide.querySelector('img').src);
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function shuffleSlidesPersistently() {
      const slides = Array.from(track.children);
      const slideMap = new Map(slides.map(slide => [slide.querySelector('img').src, slide]));

      let order;

      // üîÅ Check if a shuffled order is saved
      const savedOrder = sessionStorage.getItem('carouselOrder');
      if (savedOrder) {
        order = JSON.parse(savedOrder);
      } else {
        // üé≤ Shuffle and store order
        order = getSlideKeys();
        shuffleArray(order);
        sessionStorage.setItem('carouselOrder', JSON.stringify(order));
      }

      // üß© Reorder DOM
      order.forEach(src => {
        const slide = slideMap.get(src);
        if (slide) {
          track.appendChild(slide); // This moves the slide to the end in correct order
        }
      });
    }

    // üì¶ Run before anything else
    shuffleSlidesPersistently();
    updateSlidePosition();

    // Your other carousel logic (navigation, autoplay, etc.)
  </script-->
</body>
</html>
